<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!--
 * @autor FAUTAPO
 * @fec_registro 2020-03-18
 * @ult_usuario FAUTAPO
 * @fec_modificacion 2020-03-18
-->


<mapper namespace="Kardex">
    <insert id="RegistrarNuevoKardexDocente">
        INSERT INTO persona_kardex( numerodocumento, tipodocumento, nombre, segundonombre, 
        apellidopaterno, apellidomaterno, imagen, fechanacimiento, direccion, 
        telefonocelular, estadocivil, correoinsitucional, id_localidad, 
        nua, tiponua, sexo, fechacontratoinicial, sindicato, jubilado, 
        ren, discapacidad, numerolibreta, numerodeseguro, fechaingresodocente, 
        matriculalibreta, escalon, aserviciomilitar, 
        nrodiscpacitado, ult_usuario, id_banco, cuentacorriente, id_nivelestudio, 
        id_profesiones, id_colegio_profesionales, numeroregistroprofesionales, 
        fechatituloprofesion, ley1178, nrotitulo, promedio, idiomanativo, 
        imagelibretamilitar, imagecarnetidentidad, declaracionjurada, 
        declaracionjurabienesrentas, fechacurso1178, id_estado, universidad, 
        fechaemision, numerotituloprovision, sippase, fechaemisionsippase, 
        id_persona, prefijo_profesional, emision_documento,fechaexpiracioncarnet,id_nivelestudio_posgrado, 
        fechaemisionposgrado, tituloposgrado, emisiontituloposgrado, 
        imagetituloposgrado)
        VALUES ( #{numerodocumento},
        #{tipodocumento},
        #{nombre},
        #{segundonombre},
        #{apellidopaterno},
        #{apellidomaterno},
        #{imagen},
        #{fechanacimiento},
        #{direccion},
        #{telefonocelular},
        #{estadocivil},
        #{correoinsitucional},
        #{id_localidad},
        #{nua},
        #{tiponua},
        #{sexo},
        #{fechacontratoinicial},
        #{sindicato},
        #{jubilado},
        #{ren},
        #{discapacidad},
        #{numerolibreta},
        #{numerodeseguro},
        #{fechaingresodocente},
        #{matriculalibreta},
        #{escalon},
        #{aserviciomilitar},
        #{nrodiscpacitado},
        #{ult_usuario},
        #{id_banco},
        #{cuentacorriente},
        #{id_nivelestudio},
        #{id_profesiones},
        #{id_colegio_profesionales},
        #{numeroregistroprofesionales},
        #{fechatituloprofesion},
        #{ley1178},
        #{nrotitulo},
        #{promedio},
        #{idiomanativo},
        #{imagelibretamilitar},
        #{imagecarnetidentidad},
        #{declaracionjurada},
        #{declaracionjurabienesrentas},
        #{fechacurso1178},
        'A',
        #{universidad},
        #{fechaemision},
        #{numerotituloprovision},
        #{sippase},
        #{fechaemisionsippase},
        #{id_persona},
        #{prefijo_profesional},
        #{emision_documento},
        #{fechaexpiracioncarnet},
        #{id_nivelestudio_posgrado}, 
        #{fechaemisionposgrado}, 
        #{tituloposgrado}, 
        #{emisiontituloposgrado}, 
        #{imagetituloposgrado});
    </insert>
    <update id="ActualizarDatosKardexDocente">
        UPDATE persona_kardex
        SET    
        numerodocumento=#{numerodocumento},
        tipodocumento=#{tipodocumento},
        nombre=#{nombre},
        segundonombre=#{segundonombre},
        apellidopaterno=#{apellidopaterno},
        apellidomaterno=#{apellidomaterno},
        imagen=#{imagen},
        fechanacimiento=#{fechanacimiento},
        direccion=#{direccion},
        telefonocelular=#{telefonocelular},
        estadocivil=#{estadocivil},
        correoinsitucional=#{correoinsitucional},
        id_localidad=#{id_localidad},
        nua=#{nua},
        tiponua=#{tiponua},
        sexo=#{sexo},
        fechacontratoinicial=#{fechacontratoinicial},
        sindicato=#{sindicato},
        jubilado=#{jubilado},
        ren=#{ren},
        discapacidad=#{discapacidad},
        numerolibreta=#{numerolibreta},
        numerodeseguro=#{numerodeseguro},
        fechaingresodocente=#{fechaingresodocente},
        fechaexpiracioncarnet=#{fechaexpiracioncarnet},
        matriculalibreta=#{matriculalibreta},
        escalon=#{escalon},
        aserviciomilitar=#{aserviciomilitar},
        nrodiscpacitado=#{nrodiscpacitado},
        ult_usuario=#{ult_usuario},
        id_banco=#{id_banco},
        cuentacorriente=#{cuentacorriente},
        id_nivelestudio=#{id_nivelestudio},
        id_profesiones=#{id_profesiones},
        id_colegio_profesionales=#{id_colegio_profesionales},
        numeroregistroprofesionales=#{numeroregistroprofesionales},
        fechatituloprofesion=#{fechatituloprofesion},
        ley1178=#{ley1178},
        nrotitulo=#{nrotitulo},
        promedio=#{promedio},
        idiomanativo=#{idiomanativo},
        imagelibretamilitar=#{imagelibretamilitar},
        imagecarnetidentidad=#{imagecarnetidentidad},
        declaracionjurada=#{declaracionjurada},
        declaracionjurabienesrentas=#{declaracionjurabienesrentas},
        fechacurso1178=#{fechacurso1178},
        id_estado=#{id_estado},
        universidad=#{universidad},
        fechaemision=#{fechaemision},
        numerotituloprovision=#{numerotituloprovision},
        sippase=#{sippase},
        fechaemisionsippase=#{fechaemisionsippase},
        id_persona=#{id_persona},
        prefijo_profesional=#{prefijo_profesional},
        emision_documento=#{emision_documento},
        id_nivelestudio_posgrado=#{id_nivelestudio_posgrado},
        fechaemisionposgrado=#{fechaemisionposgrado},
        tituloposgrado=#{tituloposgrado},
        emisiontituloposgrado=#{emisiontituloposgrado},
        imagetituloposgrado=#{imagetituloposgrado#{
        WHERE id_persona_kardex=#{id_persona_kardex#{;
    </update>
    <resultMap id="kerdex_nuevo" type="org.fautapo.domain.PersonaKardex">
        <result property="id_persona_kardex"            column="id_persona_kardex" />
        <result property="numerodocumento"            column="numerodocumento" />
        <result property="tipodocumento"            column="tipodocumento" />
        <result property="nombre"            column="nombre" />
        <result property="segundonombre"            column="segundonombre" />
        <result property="apellidopaterno"            column="apellidopaterno" />
        <result property="apellidomaterno"            column="apellidomaterno" />
        <result property="imagen"            column="imagen" />
        <result property="fechanacimiento"            column="fechanacimiento" />
        <result property="direccion"            column="direccion" />
        <result property="telefonocelular"            column="telefonocelular" />
        <result property="estadocivil"            column="estadocivil" />
        <result property="correoinsitucional"            column="correoinsitucional" />
        <result property="id_localidad"            column="id_localidad" />
        <result property="nua"            column="nua" />
        <result property="tiponua"            column="tiponua" />
        <result property="sexo"            column="sexo" />
        <result property="fechacontratoinicial"            column="fechacontratoinicial" />
        <result property="sindicato"            column="sindicato" />
        <result property="jubilado"            column="jubilado" />
        <result property="ren"            column="ren" />
        <result property="discapacidad"            column="discapacidad" />
        <result property="numerolibreta"            column="numerolibreta" />
        <result property="numerodeseguro"            column="numerodeseguro" />
        <result property="fechaingresodocente"            column="fechaingresodocente" />
        <result property="fechaexpiracioncarnet"            column="fechaexpiracioncarnet" />
        <result property="matriculalibreta"            column="matriculalibreta" />
        <result property="escalon"            column="escalon" />
        <result property="aserviciomilitar"            column="aserviciomilitar" />
        <result property="nrodiscpacitado"            column="nrodiscpacitado" />
        <result property="ult_usuario"            column="ult_usuario" />
        <result property="id_banco"            column="id_banco" />
        <result property="cuentacorriente"            column="cuentacorriente" />
        <result property="id_nivelestudio"            column="id_nivelestudio" />
        <result property="id_profesiones"            column="id_profesiones" />
        <result property="id_colegio_profesionales"            column="id_colegio_profesionales" />
        <result property="numeroregistroprofesionales"            column="numeroregistroprofesionales" />
        <result property="fechatituloprofesion"            column="fechatituloprofesion" />
        <result property="ley1178"            column="ley1178" />
        <result property="nrotitulo"            column="nrotitulo" />
        <result property="promedio"            column="promedio" />
        <result property="idiomanativo"            column="idiomanativo" />
        <result property="imagelibretamilitar"            column="imagelibretamilitar" />
        <result property="imagecarnetidentidad"            column="imagecarnetidentidad" />
        <result property="declaracionjurada"            column="declaracionjurada" />
        <result property="declaracionjurabienesrentas"            column="declaracionjurabienesrentas" />
        <result property="fechacurso1178"            column="fechacurso1178" />
        <result property="id_estado"            column="id_estado" />
        <result property="universidad"            column="universidad" />
        <result property="fechaemision"            column="fechaemision" />
        <result property="numerotituloprovision"            column="numerotituloprovision" />
        <result property="sippase"            column="sippase" />
        <result property="fechaemisionsippase"            column="fechaemisionsippase" />
        <result property="id_persona"            column="id_persona" />
        <result property="prefijo_profesional"            column="prefijo_profesional" />
        <result property="emision_documento"            column="emision_documento" />
        <result property="detalle_localidad" column="detalle_localidad" />
        <result property="detalle_banco" column="detalle_banco" />
        <result property="detalle_nivelestudio" column="detalle_nivelestudio" />
        <result property="detalle_colegio_profesionales" column="detalle_colegio_profesionales" />
        <result property="detalle_profesion" column="detalle_profesion" />
        <result property="detalle_banco" column="detalle_banco" />
        <result property="id_nivelestudio_posgrado" column="id_nivelestudio_posgrado" />
        <result property="nivelestudio_posgrado" column="nivelestudio_posgrado" />
        <result property="fechaemisionposgrado" column="fechaemisionposgrado" />
        <result property="tituloposgrado" column="tituloposgrado" />
        <result property="emisiontituloposgrado" column="emisiontituloposgrado" />
        <result property="imagetituloposgrado" column="imagetituloposgrado" />
        <result property="nivelestudio_posgrado" column="nivelestudio_posgrado" />
    </resultMap>
    <select id="GetKardexPersonalNuevo" resultMap="kerdex_nuevo">
        SELECT * FROM persona_kardex_detalle where id_persona=#{id_persona}
    </select>
    <resultMap id="listview" type="org.fautapo.util.ListViewItem"> 
        <result property="id" column="id" />
        <result property="value" column="value" />
    </resultMap>
    <select id="GetLocalidadPersona" resultMap="listview">
        SELECT * FROM  persona_localidades_detalle
    </select>
    <select id="GetNivelEstudio" resultMap="listview">
        SELECT id_nivelestudio as id, nivelestudio as value
        FROM persona_nivelestudio;
    </select>
    <select id="GetNivelEstudioPorNivel" resultMap="listview">
        SELECT id_nivelestudio as id, nivelestudio as value
        FROM persona_nivelestudio WHERE grado=#{grado} OR grado='NINGUNO';
    </select>
    <select id="GetProfesiones" resultMap="listview">
        SELECT id_profesiones as id, detalle_profesion as value
        FROM persona_profesiones;
    </select>
    <select id="GetColegiosProfesionales" resultMap="listview">
        SELECT id_colegio_profesionales as id, descripcioncolegio as value
        FROM persona_colegio_profesionales;
    </select>
    <select id="GetBancos" resultMap="listview">
        SELECT id_banco as id, detalle_banco as value
        FROM persona_bancos;
    </select>
    <resultMap id="kerdex_nuevo_imagen" type="org.fautapo.domain.PersonaKardex">
        <result property="imagen"            column="imagen" />
        <result property="imagelibretamilitar"            column="imagelibretamilitar" />
        <result property="imagecarnetidentidad"            column="imagecarnetidentidad" />
    </resultMap>
    
    <select id="GetImagenesPersonaKardex" resultMap="kerdex_nuevo_imagen">
        SELECT imagen, imagelibretamilitar, imagecarnetidentidad FROM persona_kardex where id_persona=#{id_persona};
    </select> 
    <!-- INICIO - IDIOMA -->
    <select id="RegistrarNuevoIdiomaKardex"  resultType="java.lang.Integer">
        select * from  mi_registrar_idioma(#{descripcion_idioma}, #{lee}, #{escribe}, #{id_persona_kardex}, #{url_idioma}, #{aprobado},#{tipo_idioma},#{mostrar})
    </select>
    <update id="ActualizarDatosiIdiomaKardexDocente">
        UPDATE persona_idioma
        SET  descripcion_idioma=#{descripcion_idioma},
        lee=#{lee},
        escribe=#{escribe},
        url_idioma=#{url_idioma},
        tipo_idioma=#{tipo_idioma},
        mostrar=#{mostrar}
        WHERE id_idioma=#{id_idioma};
    </update>
    <update id="AprobarIdiomaKardexDocente">
        UPDATE persona_idioma
        SET  aprobado=#{aprobado}
        WHERE id_idioma=#{id_idioma};
    </update>
    <update id="EliminarIdiomaKardexDocente">
        UPDATE persona_idioma
        SET  id_estado='X'
        WHERE id_idioma=#{id_idioma};
    </update>
    <update id="ActualizarImagenIdiomaKardexDocente">
        UPDATE persona_idioma SET url_idioma=#{url_idioma} WHERE id_idioma=#{id_idioma};
    </update>
    <resultMap id="kerdex_idioma" type="org.fautapo.domain.PersonaIdioma">
        <result property="id_idioma"    column="id_idioma" />
        <result property="descripcion_idioma"    column="descripcion_idioma" />
        <result property="lee"    column="lee" />
        <result property="escribe"    column="escribe" />
        <result property="id_persona_kardex"    column="id_persona_kardex" />
        <result property="url_idioma"    column="url_idioma" />
        <result property="aprobado"    column="aprobado" />
        <result property="tipo_idioma"    column="tipo_idioma" />
        <result property="mostrar"    column="mostrar" />
    </resultMap>
    <select id="GetPersonaTotalIdiomaKardex" resultMap="kerdex_idioma">
        SELECT id_idioma, descripcion_idioma, lee, escribe, id_persona_kardex, 
        url_idioma, aprobado, id_estado, tipo_idioma, mostrar
        FROM persona_idioma
        where  id_estado='A' AND id_persona_kardex=#{id_persona};
    </select> 
    <select id="GetPersonaIdiomaKardex" resultMap="kerdex_idioma">
        SELECT id_idioma, descripcion_idioma, lee, escribe, id_persona_kardex, 
        url_idioma, aprobado, id_estado,tipo_idioma, mostrar
        FROM persona_idioma
        where id_idioma=#{id_idioma};
    </select> 
    <select id="GetPersonaSubTotalIdiomaKardex" resultMap="kerdex_idioma">
        SELECT id_idioma, descripcion_idioma, lee, escribe, id_persona_kardex, 
        url_idioma, aprobado, id_estado,tipo_idioma, mostrar
        FROM persona_idioma
        where   id_estado='A' AND  id_persona_kardex=#{id_persona}
        LIMIT #{number};
    </select> 
    <!-- FIN - IDIOMA -->
    
    <!-- INICIO - MODALIDAD DE INGRESO -->
    <select id="RegistrarNuevoModalidadKardex" resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_modalidad_ingreso(#{id_persona_kardex}, #{id_programa}, #{modalidadingreso},#{fechaingreso}, #{url_modalidadingreso}, #{aprobado}, #{mostrar});
    </select>
    <update id="ActualizarDatosiModalidadKardexDocente">
        UPDATE persona_modalidadingreso
        SET  id_programa=#{id_programa},
        modalidadingreso=#{modalidadingreso}, 
        fechaingreso=#{fechaingreso}, 
        url_modalidadingreso=#{url_modalidadingreso},
        mostrar=#{mostrar}
        WHERE id_modalidadingreso=#{id_modalidadingreso}; 
    </update>
    <update id="AprobarModalidadKardexDocente">
        UPDATE persona_modalidadingreso
        SET  aprobado=#{aprobado}
        WHERE id_modalidadingreso=#{id_modalidadingreso};
    </update>
    <update id="EliminarModalidadKardexDocente">
        UPDATE persona_modalidadingreso
        SET  id_estado='X'
        WHERE id_modalidadingreso=#{id_modalidadingreso};
    </update>
    <update id="ActualizarImagenModalidadKardexDocente">
        UPDATE persona_modalidadingreso SET url_modalidadingreso=#{url_modalidadingreso} WHERE  id_modalidadingreso=#{id_modalidadingreso};
    </update>
    <resultMap id="kardex_modalidad" type="org.fautapo.model.Kardex.DetallePersonaModalidadIngresoModel">
        <result property="id_modalidadingreso"   column="id_modalidadingreso" />
        <result property="id_persona_kardex"   column="id_persona_kardex" />
        <result property="id_programa"   column="id_programa" />
        <result property="modalidadingreso"   column="modalidadingreso" />
        <result property="fechaingreso"   column="fechaingreso" />
        <result property="url_modalidadingreso"   column="url_modalidadingreso" />
        <result property="aprobado"   column="aprobado" />
        <result property="id_estado"   column="id_estado" />
        <result property="programa"   column="programa" />
        <result property="id_facultad" column="id_facultad"></result>
        <result property="mostrar" column="mostrar"></result>
    </resultMap>
    <select id="GetPersonaTotalModalidadKardex" resultMap="kardex_modalidad">
        SELECT p.programa, 
        pm.id_modalidadingreso, 
        pm.id_persona_kardex, 
        pm.id_programa, 
        pm.modalidadingreso, 
        pm.fechaingreso, 
        pm.url_modalidadingreso, 
        pm.aprobado, 
        pm.id_estado, 
        p.id_facultad,
        pm.mostrar
        FROM 
        public.fcl_programas p, 
        public.persona_modalidadingreso pm
        WHERE p.id_programa = pm.id_programa AND pm.id_estado='A' AND  id_persona_kardex=#{id_persona_kardex};
    </select> 
    <select id="GetPersonaModalidadKardex" resultType="org.fautapo.domain.PersonaModalidadIngreso">
        SELECT *
        FROM persona_modalidadingreso 
        WHERE id_modalidadingreso=#{id_modalidadingreso};
    </select> 
    <select id="GetPersonaSubTotalModalidadKardex" resultMap="kardex_modalidad">
        SELECT p.programa, 
        pm.id_modalidadingreso, 
        pm.id_persona_kardex, 
        pm.id_programa, 
        pm.modalidadingreso, 
        pm.fechaingreso, 
        pm.url_modalidadingreso, 
        pm.aprobado, 
        pm.id_estado, 
        p.id_facultad,
        pm.mostrar
        FROM 
        public.fcl_programas p, 
        public.persona_modalidadingreso pm
        WHERE p.id_programa = pm.id_programa AND pm.id_estado='A' AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - MODALIDAD DE INGRESO -->
    <!-- INICIO - ACTIVIDADES ACADEMICAS -->
    <select id="RegistrarNuevoActividadesAcademicasKardex" resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_activades_academicas(#{tipo_documento},#{detalle_documento},#{tipo_de_actividad},#{gestion},#{mes},#{descripcion_actividad},#{id_persona_kardex},#{aprobado},#{mostrar},#{url_actividades_academicas});
    </select>
    <update id="ActualizarDatosiActividadesAcademicasKardexDocente">
        UPDATE personas_activades_academicas
        SET tipo_documento=#{tipo_documento},
        detalle_documento=#{detalle_documento},
        tipo_de_actividad=#{tipo_de_actividad},
        gestion=#{gestion},
        mes=#{mes},
        descripcion_actividad=#{descripcion_actividad},
        mostrar=#{mostrar}
        WHERE  id_activades_academicas=#{id_activades_academicas};
    </update>
    <update id="AprobarActividadesAcademicasKardexDocente">
        UPDATE personas_activades_academicas
        SET  aprobado=#{aprobado}
        WHERE id_activades_academicas=#{id_activades_academicas};
    </update>
    <update id="EliminarActividadesAcademicasKardexDocente">
        UPDATE personas_activades_academicas
        SET  id_estado='X'
        WHERE id_activades_academicas=#{id_activades_academicas};
    </update>
    <update id="ActualizarImagenActividadesAcademicasKardexDocente">
        UPDATE personas_activades_academicas SET url_actividades_academicas=#{url_actividades_academicas} WHERE  id_activades_academicas=#{id_activades_academicas};
    </update>
    <select id="GetPersonaTotalActividadesAcademicasKardex" resultType="org.fautapo.domain.PersonaActividadesAcademicas">
        SELECT *
        FROM personas_activades_academicas
        WHERE id_estado='A'  AND  id_persona_kardex=#{id_persona_kardex}
    </select> 
    <select id="GetPersonaActividadesAcademicasKardex" resultType="org.fautapo.domain.PersonaActividadesAcademicas">
        SELECT *
        FROM personas_activades_academicas
        WHERE id_estado='A' AND id_activades_academicas=#{id_activades_academicas};
    </select> 
    <select id="GetPersonaSubTotalActividadesAcademicasKardex" resultType="org.fautapo.domain.PersonaActividadesAcademicas">
        SELECT *
        FROM personas_activades_academicas
        WHERE id_estado='A'  AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - ACTIVIDADES ACADEMICAS -->
    <!-- INICIO - FORMACION -->
    <select id="RegistrarNuevoFormacionAcademicaKardex"  resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_formacion_academica( #{id_persona_kardex}, #{expedido}, #{fechaemision}, #{id_nivelestudio}, 
        #{id_profesiones}, #{descripcion}, #{url_formacion}, #{tipotitulo}, #{numerotitulo}, 
        #{eseducacionsuperor}, #{aprobado}, #{mostrar},#{id_programas},#{universidad});
    </select>
    <update id="ActualizarDatosFormacionAcademicaKardexDocente">
        UPDATE persona_formacion_academica
        SET
        id_persona_kardex=#{id_persona_kardex},
        expedido=#{expedido},
        fechaemision=#{fechaemision},
        id_nivelestudio=#{id_nivelestudio},
        id_profesiones=#{id_profesiones},
        descripcion=#{descripcion},
        url_formacion=#{url_formacion},
        tipotitulo=#{tipotitulo},
        numerotitulo=#{numerotitulo},
        eseducacionsuperor=#{eseducacionsuperor},
        mostrar=#{mostrar},
        id_programas=#{id_programas},
        universidad=#{universidad}
        WHERE  id_formacion=#{id_formacion};
    </update>
    <update id="AprobarFormacionAcademicaKardexDocente">
        UPDATE persona_formacion_academica
        SET  aprobado=#{aprobado}
        WHERE id_formacion=#{id_formacion};
    </update>
    <update id="EliminarFormacionAcademicaKardexDocente">
        UPDATE persona_formacion_academica
        SET  id_estado='X'
        WHERE id_formacion=#{id_formacion};
    </update>
    <update id="ActualizarImagenFormacionAcademicaKardexDocente">
        UPDATE persona_formacion_academica SET url_formacion=#{url_formacion} WHERE id_formacion=#{id_formacion};
    </update>
    <resultMap id="kerdex_formacion_academica" type="org.fautapo.model.Kardex.DetalleFormacionAcademicaPersonaModel">
        <result property="id_formacion"    column="id_formacion" />
        <result property="id_persona_kardex"    column="id_persona_kardex" />
        <result property="expedido"    column="expedido" />
        <result property="fechaemision"    column="fechaemision" />
        <result property="id_nivelestudio"    column="id_nivelestudio" />
        <result property="id_profesiones"    column="id_profesiones" />
        <result property="descripcion"    column="descripcion" />
        <result property="url_formacion"    column="url_formacion" />
        <result property="tipotitulo"    column="tipotitulo" />
        <result property="numerotitulo"    column="numerotitulo" />
        <result property="eseducacionsuperor"    column="eseducacionsuperor" />
        <result property="id_estado"    column="id_estado" />
        <result property="aprobado"    column="aprobado" />
        <result property="nivelestudio"    column="nivelestudio" />
        <result property="detalle_profesion"    column="detalle_profesion" />
        <result property="mostrar"    column="mostrar" />
    </resultMap>
    <select id="GetPersonaTotalFormacionAcademicaKardex" resultMap="kerdex_formacion_academica">
        SELECT id_formacion, id_persona_kardex, expedido, fechaemision, id_nivelestudio, 
        nivelestudio, id_profesiones, detalle_profesion, descripcion, 
        url_formacion, tipotitulo, numerotitulo, eseducacionsuperor, 
        id_estado, aprobado, mostrar
        FROM view_formacion_academica
        where  id_estado='A' AND id_persona_kardex=#{id_persona_kardex};
    </select> 
    <select id="GetPersonaFormacionAcademicaKardex" resultType="org.fautapo.domain.PersonaFormacionAcademica">
        SELECT *
        FROM persona_formacion_academica
        where id_formacion=#{id_formacion};
    </select> 
    <select id="GetPersonaSubTotalFormacionAcademicaKardex" resultMap="kerdex_formacion_academica">
        SELECT id_formacion, id_persona_kardex, expedido, fechaemision, id_nivelestudio, 
        nivelestudio, id_profesiones, detalle_profesion, descripcion, 
        url_formacion, tipotitulo, numerotitulo, eseducacionsuperor, 
        id_estado, aprobado, mostrar
        FROM view_formacion_academica
        where   id_estado='A' AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - FORMACION -->
    
    <!-- INICIO - EXPERIENCIA LABORAL -->
    <select id="RegistrarExperienciaLaboralKardex" resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_experiencia_laboral(#{id_persona_kardex}, #{institucion}, #{detalle}, 
        #{cargoocupado}, #{refrencia}, #{calificacion}, #{url_experiencia}, #{inicio}, 
        #{fin}, #{gestion}, #{tipo_experiencia_laboral}, #{aprobado}, #{mostrar});
    </select>
    <update id="ActualizarDatosExperienciaLaboralKardexDocente">
        UPDATE persona_experiencia_laboral
        SET 
        id_persona_kardex=#{id_persona_kardex},
        institucion=#{institucion},
        detalle=#{detalle},
        cargoocupado=#{cargoocupado},
        refrencia=#{refrencia},
        calificacion=#{calificacion},
        url_experiencia=#{url_experiencia},
        inicio=#{inicio},
        fin=#{fin},
        gestion=#{gestion},
        tipo_experiencia_laboral=#{tipo_experiencia_laboral},
        aprobado=#{aprobado},
        mostrar=#{mostrar}
        WHERE  id_experiencia_laboral=#{id_experiencia_laboral};
    </update>
    <update id="AprobarExperienciaLaboralKardexDocente">
        UPDATE persona_experiencia_laboral
        SET  aprobado=#{aprobado}
        WHERE id_experiencia_laboral=#{id_experiencia_laboral};
    </update>
    <update id="EliminarExperienciaLaboralKardexDocente">
        UPDATE persona_experiencia_laboral
        SET  id_estado='X'
        WHERE id_experiencia_laboral=#{id_experiencia_laboral};
    </update>
    <update id="ActualizarImagenExperienciaLaboralKardexDocente">
        UPDATE persona_experiencia_laboral 
        SET url_experiencia=#{url_experiencia}
        WHERE id_experiencia_laboral=#{id_experiencia_laboral};
    </update>
    <resultMap id="kerdex_experiencia_laboral" type="org.fautapo.model.Kardex.DetallePersonaExperienciaLaboral">
        <result property="id_experiencia_laboral"    column="id_experiencia_laboral" />
        <result property="id_persona_kardex"    column="id_persona_kardex" />
        <result property="institucion"    column="institucion" />
        <result property="detalle"    column="detalle" />
        <result property="cargoocupado"    column="cargoocupado" />
        <result property="refrencia"    column="refrencia" />
        <result property="calificacion"    column="calificacion" />
        <result property="url_experiencia"    column="url_experiencia" />
        <result property="inicio"    column="inicio" />
        <result property="fin"    column="fin" />
        <result property="gestion"    column="gestion" />
        <result property="tipo_experiencia_laboral"    column="tipo_experiencia_laboral" />
        <result property="id_estado"    column="id_estado" />
        <result property="aprobado"    column="aprobado" />
        <result property="mostrar"    column="mostrar" />
    </resultMap>
    <select id="GetPersonaTotalExperienciaLaboralKardex" resultMap="kerdex_experiencia_laboral">
        SELECT id_experiencia_laboral, id_persona_kardex, institucion, detalle, 
        cargoocupado, refrencia, calificacion, url_experiencia, inicio, 
        fin, gestion, tipo_experiencia_laboral, id_estado, aprobado, mostrar
        FROM persona_experiencia_laboral
        where  id_estado='A' AND id_persona_kardex=#{id_persona_kardex};
    </select> 
    <select id="GetPersonaExperienciaLaboralKardex" resultType="org.fautapo.domain.PersonaExperienciaLaboral">
        SELECT *
        FROM persona_experiencia_laboral
        where id_experiencia_laboral=#{id_experiencia_laboral};
    </select> 
    <select id="GetPersonaSubTotalExperienciaLaboralKardex" resultMap="kerdex_experiencia_laboral">
        SELECT id_experiencia_laboral, id_persona_kardex, institucion, detalle, 
        cargoocupado, refrencia, calificacion, url_experiencia, inicio, 
        fin, gestion, tipo_experiencia_laboral, id_estado, aprobado, mostrar
        FROM persona_experiencia_laboral
        where   id_estado='A' AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - EXPERIENCIA LABORAL -->
    
    <!-- INICIO - CURSOS -->
    <select id="RegistrarCursosRealizadosKardex" resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_cursos_realizados(#{id_persona_kardex}, #{expedido_institucion},  #{fechapresentacion}, #{nrotitulo}, #{detalle}, #{url_cursos}, #{horas_academicas}, #{tipo_eventos}, #{duracion}, #{aprobado},#{tipoorganizacion}, #{mostrar}, #{objetivo_curso});
    </select>
    
    <update id="ActualizarDatosCursosRealizadosKardexDocente">
        UPDATE persona_cursos_realizados
        SET 
        id_persona_kardex=#{id_persona_kardex}, 
        expedido_institucion=#{expedido_institucion},
        fechapresentacion=#{fechapresentacion},
        nrotitulo=#{nrotitulo},
        detalle=#{detalle},
        url_cursos=#{url_cursos},
        horas_academicas=#{horas_academicas},
        tipo_eventos=#{tipo_eventos},
        duracion=#{duracion},
        aprobado=#{aprobado},
        tipoorganizacion=#{tipoorganizacion},
        mostrar=#{mostrar},
        objetivo_curso=#{objetivo_curso}
        WHERE  id_cursos_realizados=#{id_cursos_realizados};
    </update>
    <update id="AprobarCursosRealizadosKardexDocente">
        UPDATE persona_cursos_realizados
        SET  aprobado=#{aprobado}
        WHERE id_cursos_realizados=#{id_cursos_realizados};
    </update>
    <update id="EliminarCursosRealizadosKardexDocente">
        UPDATE persona_cursos_realizados
        SET  id_estado='X'
        WHERE id_cursos_realizados=#{id_cursos_realizados};
    </update>
    <update id="ActualizarImagenCursosRealizadosKardexDocente">
        UPDATE persona_cursos_realizados 
        SET url_cursos=#{url_cursos}
        WHERE id_cursos_realizados=#{id_cursos_realizados};
    </update>
    <resultMap id="kardex_cursos_realizados" type="org.fautapo.domain.PersonaCursosRealizados">
        <result property="id_persona_kardex"    column="id_persona_kardex" />
        <result property="id_cursos_realizados"    column="id_cursos_realizados" />
        <result property="expedido_institucion"    column="expedido_institucion" />
        <result property="fechapresentacion"    column="fechapresentacion" />
        <result property="nrotitulo"    column="nrotitulo" />
        <result property="detalle"    column="detalle" />
        <result property="url_cursos"    column="url_cursos" />
        <result property="horas_academicas"    column="horas_academicas" />
        <result property="tipo_eventos"    column="tipo_eventos" />
        <result property="duracion"    column="duracion" />
        <result property="id_estado"    column="id_estado" />
        <result property="aprobado"    column="aprobado" />
        <result property="tipoorganizacion"    column="tipoorganizacion" />
        <result property="mostrar"    column="mostrar" />
        <result property="objetivo_curso"    column="objetivo_curso" />
    </resultMap>
    <select id="GetPersonaTotalCursosRealizadosKardex" resultMap="kardex_cursos_realizados">
        SELECT *
        FROM persona_cursos_realizados
        where  id_estado='A' AND id_persona_kardex=#{id_persona_kardex};
    </select> 
    <select id="GetPersonaCursosRealizadosKardex" resultMap="kardex_cursos_realizados">
        SELECT *
        FROM persona_cursos_realizados
        where id_cursos_realizados=#{id_cursos_realizados};
    </select> 
    <select id="GetPersonaSubTotalCursosRealizadosKardex" resultMap="kardex_cursos_realizados">
        SELECT *
        FROM persona_cursos_realizados
        where   id_estado='A' AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - CURSOS -->
    <!-- INICIO - PRODUCCION -->
    <select id="RegistrarProduccionCientificaKardex"  resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_produccion_cientifica(#{id_persona_kardex}, #{categoria}, #{nombre_producto}, #{fecha_certificacion}, #{url_portada_libro}, #{aprobado}, #{mostrar}, #{tipo_produccion}, #{publicado}, #{id_programas}, #{tipo_de_recurso});
    </select>
    <update id="ActualizarProduccionCientificaKardexDocente">
        UPDATE persona_produccion_cientifica
        SET  
        id_persona_kardex=#{id_persona_kardex},
        categoria=#{categoria},
        nombre_producto=#{nombre_producto},
        fecha_certificacion=#{fecha_certificacion},
        url_portada_libro=#{url_portada_libro},
        aprobado=#{aprobado},
        mostrar=#{mostrar},
        tipo_produccion=#{tipo_produccion},
        publicado=#{publicado},
        id_programas=#{id_programas},
        tipo_de_recurso=#{tipo_de_recurso}
        WHERE id_produccion_cientifica=#{id_produccion_cientifica};
    </update>
    <update id="AprobarProduccionCientificaKardexDocente">
        UPDATE persona_produccion_cientifica
        SET  aprobado=#{aprobado}
        WHERE id_produccion_cientifica=#{id_produccion_cientifica};
    </update>
    <update id="EliminarProduccionCientificaKardexDocente">
        UPDATE persona_produccion_cientifica
        SET  id_estado='X'
        WHERE id_produccion_cientifica=#{id_produccion_cientifica};
    </update>
    <update id="ActualizarImagenProduccionCientificaKardexDocente">
        UPDATE persona_produccion_cientifica 
        SET  url_portada_libro=#{url_portada_libro}
        WHERE id_produccion_cientifica=#{id_produccion_cientifica};
    </update>
    <resultMap id="kardex_produccion_cientifica" type="org.fautapo.domain.PersonaProduccionCientifica">
        <result property="id_produccion_cientifica"    column="id_produccion_cientifica" />
        <result property="id_persona_kardex"    column="id_persona_kardex" />
        <result property="categoria"    column="categoria" />
        <result property="nombre_producto"    column="nombre_producto" />
        <result property="fecha_certificacion"    column="fecha_certificacion" />
        <result property="url_portada_libro"    column="url_portada_libro" />
        <result property="id_estado"    column="id_estado" />
        <result property="aprobado"    column="aprobado" />
        <result property="mostrar"    column="mostrar" />
        <result property="tipo_produccion"    column="tipo_produccion" />
        <result property="publicado"    column="publicado" />
        <result property="id_programas"    column="id_programas" />
        <result property="tipo_de_recurso"    column="tipo_de_recurso" />
    </resultMap>
    <select id="GetPersonaTotalProduccionCientificaKardex" resultMap="kardex_produccion_cientifica">
        SELECT *
        FROM persona_produccion_cientifica
        where  id_estado='A' AND id_persona_kardex=#{id_persona_kardex};
    </select> 
    <select id="GetPersonaProduccionCientificaKardex" resultMap="kardex_produccion_cientifica">
        SELECT *
        FROM persona_produccion_cientifica
        where id_produccion_cientifica=#{id_produccion_cientifica};
    </select> 
    <select id="GetPersonaSubTotalProduccionCientificaKardex" resultMap="kardex_produccion_cientifica">
        SELECT *
        FROM persona_produccion_cientifica
        where   id_estado='A' AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - PRODUCCION -->
    <!-- INICIO - EVALUACION -->
    <select id="RegistrarEvaluacionDocenteKardex" resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_evaluacion_docente(#{id_persona_kardex}, #{gestion}, #{periodo}, #{asignatura}, 
        #{puntaje}, #{url_certificado_evaluacion}, #{aprobado});
    </select>
    <update id="ActualizarEvaluacionDocenteKardex">
        UPDATE persona_evaluacion_docente
        SET
        gestion=#{gestion},
        periodo=#{periodo},
        asignatura=#{asignatura},
        puntaje=#{puntaje},
        url_certificado_evaluacion=#{url_certificado_evaluacion},
        aprobado=#{aprobado}
        WHERE id_evaluacion_docente=#{id_evaluacion_docente};
    </update>
    <update id="AprobarEvaluacionDocenteKardex">
        UPDATE persona_evaluacion_docente
        SET  aprobado=#{aprobado}
        WHERE id_evaluacion_docente=#{id_evaluacion_docente};
    </update>
    <update id="EliminarEvaluacionDocenteKardex">
        UPDATE persona_evaluacion_docente
        SET  id_estado='X'
        WHERE id_evaluacion_docente=#{id_evaluacion_docente};
    </update>
    <update id="ActualizarImagenEvaluacionDocenteKardex">
        UPDATE persona_evaluacion_docente 
        SET  url_certificado_evaluacion=#{url_certificado_evaluacion}
        WHERE id_evaluacion_docente=#{id_evaluacion_docente};
    </update>
    <resultMap id="kardex_evaluacion_docente" type="org.fautapo.domain.PersonaEvaluacionDocente">
        <result property="id_evaluacion_docente"    column="id_evaluacion_docente" />
        <result property="id_persona_kardex"    column="id_persona_kardex" />
        <result property="gestion"    column="gestion" />
        <result property="periodo"    column="periodo" />
        <result property="asignatura"    column="asignatura" />
        <result property="puntaje"    column="puntaje" />
        <result property="url_certificado_evaluacion"    column="url_certificado_evaluacion" />
        <result property="id_estado"    column="id_estado" />
        <result property="aprobado"    column="aprobado" />
    </resultMap>
    <select id="GetPersonaTotalEvaluacionDocenteKardex" resultMap="kardex_evaluacion_docente">
        SELECT *
        FROM persona_evaluacion_docente
        where  id_estado='A' AND id_persona_kardex=#{id_persona_kardex};
    </select> 
    <select id="GetPersonaEvaluacionDocenteKardex" resultMap="kardex_evaluacion_docente">
        SELECT *
        FROM persona_evaluacion_docente
        where id_evaluacion_docente=#{id_evaluacion_docente};
    </select> 
    <select id="GetPersonaSubTotalEvaluacionDocenteKardex" resultMap="kardex_evaluacion_docente">
        SELECT *
        FROM persona_evaluacion_docente
        where   id_estado='A' AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - EVALUACION -->
    <!-- INICIO - PROYECTO -->
    <select id="RegistrarNuevoProyectoKardex" resultType="java.lang.Integer">
        SELECT * FROM mi_registrar_personas_proyecto( #{nombreproyecto}, #{inversion}, #{financiador}, #{origendelproyectoproyecto}, #{gestion}, #{estado}, #{funcion}, #{modalidad}, #{duracionproyecto}, #{tipodeproyecto}, #{representaciondirigencial}, #{documento}, #{mostrar}, #{id_persona_kardex}, #{aprobado});
    </select>
    <update id="ActualizarDatosProyectoKardexDocente">
        UPDATE personas_proyecto
        SET 
        nombreproyecto=#{nombreproyecto},
        inversion=#{inversion},
        financiador=#{financiador},
        origendelproyectoproyecto=#{origendelproyectoproyecto},
        gestion=#{gestion},
        estado=#{estado},
        funcion=#{funcion},
        modalidad=#{modalidad},
        duracionproyecto=#{duracionproyecto},
        tipodeproyecto=#{tipodeproyecto},
        representaciondirigencial=#{representaciondirigencial},
        documento=#{documento},
        mostrar=#{mostrar}
        WHERE id_personas_proyecto=#{id_personas_proyecto}; 
    </update>
    <update id="AprobarProyectoKardexDocente">
        UPDATE personas_proyecto
        SET  aprobado=#{aprobado}
        WHERE id_personas_proyecto=#{id_personas_proyecto}; 
    </update>
    <update id="EliminarProyectoKardexDocente">
        UPDATE personas_proyecto
        SET  id_estado='X'
        WHERE id_personas_proyecto=#{id_personas_proyecto}; 
    </update>
    <update id="ActualizarImagenProyectoKardexDocente">
        UPDATE personas_proyecto SET documento=#{documento} WHERE id_personas_proyecto=#{id_personas_proyecto}; 
    </update>
    <select id="GetPersonaTotalProyectoKardex" resultType="org.fautapo.domain.PersonaProyectoDocente">
        SELECT *
        FROM personas_proyecto
        WHERE id_estado='A' AND  id_persona_kardex=#{id_persona_kardex};
    </select> 
    <select id="GetPersonaProyectoKardex" resultType="org.fautapo.domain.PersonaProyectoDocente">
        SELECT *
        FROM personas_proyecto
        WHERE id_personas_proyecto=#{id_personas_proyecto}; 
    </select> 
    <select id="GetPersonaSubTotalProyectoKardex" resultType="org.fautapo.domain.PersonaProyectoDocente">
        SELECT *
        FROM personas_proyecto
        WHERE id_estado='A' AND  id_persona_kardex=#{id_persona_kardex}
        LIMIT #{number};
    </select> 
    <!-- FIN - PROYECTO -->
    <select id="GetImageidiomas" resultType="java.lang.String">SELECT url_idioma FROM persona_idioma  WHERE id_idioma=#{id_idioma}; </select> 
    <select id="GetImagemodalidad" resultType="java.lang.String">SELECT url_modalidadingreso FROM persona_modalidadingreso  WHERE id_modalidadingreso=#{id_modalidadingreso}; </select> 
    <select id="GetImageformacionacademica" resultType="java.lang.String">SELECT url_formacion FROM persona_formacion_academica  WHERE id_formacion=#{id_formacion}; </select> 
    <select id="GetImageexperiencia" resultType="java.lang.String">SELECT url_experiencia FROM persona_experiencia_laboral  WHERE id_experiencia_laboral=#{id_experiencia_laboral}; </select> 
    <select id="GetImagecursosrealizados" resultType="java.lang.String">SELECT url_cursos FROM persona_cursos_realizados  WHERE id_cursos_realizados=#{id_cursos_realizados}; </select> 
    <select id="GetImageproduccioncientifica" resultType="java.lang.String">SELECT url_portada_libro FROM persona_produccion_cientifica  WHERE id_produccion_cientifica=#{id_produccion_cientifica}; </select> 
    <select id="GetImageactividadesacademicas" resultType="java.lang.String">SELECT  url_actividades_academicas FROM personas_activades_academicas  WHERE id_activades_academicas=#{id_activades_academicas}; </select> 
    <select id="GetImageproyecto" resultType="java.lang.String">SELECT  documento FROM personas_proyecto  WHERE id_personas_proyecto=#{id_personas_proyecto}; </select> 
    <!-- REPORTES KARDEX -->
    <resultMap id="kardex_reporte_docente" type="org.fautapo.domain.KardexPersonal">
        <result property="nombre_completo"    column="nombre_completo" />
        <result property="detalle_profesion"    column="detalle_profesion" />
        <result property="lugar_nacimiento"    column="lugar_nacimiento" />
        <result property="nacionalidad"    column="nacionalidad" />
        <result property="tipodocumento"    column="tipodocumento" />
        <result property="numerodocumento"    column="numerodocumento" />
        <result property="libreta_militar"    column="libreta_militar" />
        <result property="estadocivil"    column="estadocivil" />
        <result property="direccion"    column="direccion" />
        <result property="telefonocelular"    column="telefonocelular" />
        <result property="correoinsitucional"    column="correoinsitucional" />
        <result property="fechaingresodocente"    column="fechaingresodocente" />
        <result property="id_persona_kardex"    column="id_persona_kardex" />
    </resultMap>
    <select id="getKardexPersonalDocente" resultMap="kardex_reporte_docente">
        select 
        (pk.nombre||' '||pk.segundonombre ||' '|| pk.apellidopaterno||' '|| pk.apellidomaterno)::text as nombre_completo,
        detalle_profesion,
        (l.localidad||' '||fechanacimiento)::text as lugar_nacimiento, 
        ps.nacionalidad, 
        tipodocumento, 
        numerodocumento,
        ('Numero'||' '||numerolibreta||' '||'Matricula'||' '||matriculalibreta||' '||'Escalon'||' '||escalon||' '||'Año'||' '||aserviciomilitar)::text as libreta_militar, 
        estadocivil, 
        direccion, 
        telefonocelular, 
        correoinsitucional, 
        fechaingresodocente, pk.id_persona_kardex
        from persona_kardex pk inner join persona_profesiones using (id_profesiones)
        inner join prv_localidades l using (id_localidad)
        inner join paises ps using (id_pais)
        where id_persona = #{id_persona}
    </select>
    <resultMap id="kerdex_categoria" type="org.fautapo.domain.CategoriaDocente">
        <result property="tipo_asignacion"            column="tipo_asignacion" />
        <result property="sigla"            column="sigla" />
        <result property="materia"            column="materia" />
        <result property="tipo_docente"            column="tipo_docente" />
    </resultMap>
    <select id="GetPersonaCategoriaKardex" resultMap="kerdex_categoria">
        SELECT 
        ta.tipo_asignacion, 
        m.sigla, 
        m.materia, 
        td.tipo_docente
        FROM 
        public.materias m, 
        public.dct_asignaciones da, 
        public.tipos_asignaciones ta, 
        public.tipos_docentes td
        WHERE 
        m.id_materia = da.id_materia AND
        ta.id_tipo_asignacion = da.id_tipo_asignacion AND
        td.id_tipo_docente = da.id_tipo_docente AND
        da.id_docente = #{id_docente} AND 
        da.id_departamento  = #{id_departamento} AND 
        da.gestion = #{gestion} AND 
        da.periodo = #{periodo} AND 
        da.id_estado = 'A' AND 
        da.id_tipo_evaluacion = #{id_tipo_evaluacion};
    </select> 
    <update id="ActualizarInformacionPersonalKardexDocente">
        UPDATE public.persona_kardex
        SET nombre=#{nombre},
        segundonombre=#{segundonombre}, 
        apellidopaterno=#{apellidopaterno}, 
        apellidomaterno=#{apellidomaterno},  
        fechanacimiento=#{fechanacimiento}, 
        estadocivil=#{estadocivil}, 
        id_localidad=#{id_localidad}, 
        sexo=#{sexo}
        WHERE  id_persona_kardex=#{id_persona_kardex};
    </update>
    <update id="ActualizarIdentificacionPersonalKardexDocente">
        UPDATE persona_kardex
        SET    
        numerodocumento=#{numerodocumento},
        tipodocumento=#{tipodocumento},
        fechaexpiracioncarnet=#{fechaexpiracioncarnet},
        imagecarnetidentidad=#{imagecarnetidentidad},
        emision_documento=#{emision_documento}
        WHERE id_persona_kardex=#{id_persona_kardex};
    </update>
    <update id="ActualizarServicioMilitarPersonalKardexDocente">
        UPDATE persona_kardex
        SET   
        numerolibreta=#{numerolibreta},
        matriculalibreta=#{matriculalibreta},
        escalon=#{escalon},
        aserviciomilitar=#{aserviciomilitar},
        imagelibretamilitar=#{imagelibretamilitar}
        WHERE id_persona_kardex=#{id_persona_kardex};
    </update>
    <update id="ActualizarEducacionPregradoPersonalKardexDocente">
        UPDATE persona_kardex
        SET   
        id_nivelestudio=#{id_nivelestudio},
        id_profesiones=#{id_profesiones},
        universidad=#{universidad},
        numerotituloprovision=#{numerotituloprovision},
        fechatituloprofesion=#{fechatituloprofesion},
        id_colegio_profesionales=#{id_colegio_profesionales},
        numeroregistroprofesionales=#{numeroregistroprofesionales},
        prefijo_profesional=#{prefijo_profesional},
        imagen=#{imagen}
        WHERE id_persona_kardex=#{id_persona_kardex};
    </update>
    <update id="ActualizarEducacionPosgradoKardexDocente">
        UPDATE persona_kardex
        SET   
        id_nivelestudio_posgrado=#{id_nivelestudio_posgrado},
        fechaemisionposgrado=#{fechaemisionposgrado},
        tituloposgrado=#{tituloposgrado},
        emisiontituloposgrado=#{emisiontituloposgrado},
        imagetituloposgrado=#{imagetituloposgrado}
        WHERE id_persona_kardex=#{id_persona_kardex};
    </update>
    <update id="ActualizarInformacionLaboralPersonalKardexDocente">
        UPDATE persona_kardex
        SET   
        tiponua=#{tiponua}, 
        nua=#{nua},
        id_banco=#{id_banco},
        cuentacorriente=#{cuentacorriente},
        sindicato=#{sindicato},
        jubilado=#{jubilado},
        ren=#{ren},
        discapacidad=#{discapacidad},
        nrodiscpacitado=#{nrodiscpacitado},
        numerodeseguro=#{numerodeseguro},
        ley1178=#{ley1178},
        nrotitulo=#{nrotitulo},
        promedio=#{promedio},
        fechacurso1178=#{fechacurso1178},
        sippase=#{sippase},
        fechaemisionsippase=#{fechaemisionsippase},
        idiomanativo=#{idiomanativo},
        fechaemision=#{fechaemision}
        WHERE id_persona_kardex=#{id_persona_kardex};
    </update>
    <update id="ActualizarContactoPersonalKardexDocente">
        UPDATE persona_kardex
        SET   
        direccion=#{direccion},
        telefonocelular=#{telefonocelular}, 
        correoinsitucional=#{correoinsitucional}
        WHERE id_persona_kardex=#{id_persona_kardex};
    </update>
    <update id="ActualizarOtrosPersonalKardexDocente">
        UPDATE persona_kardex
        SET
        fechacontratoinicial=#{fechacontratoinicial},
        fechaingresodocente=#{fechaingresodocente},
        ult_usuario=#{ult_usuario},
        declaracionjurada=#{declaracionjurada},
        declaracionjurabienesrentas=#{declaracionjurabienesrentas},
        id_estado=#{id_estado},
        id_persona=#{id_persona}
        WHERE id_persona_kardex=#{id_persona_kardex};
    </update>
    <select id="GetProgramasPregrado" resultMap="listview">
        SELECT fp.id_programa as id,  fp.programa as value
        FROM  fcl_programas fp inner join facultades f on fp.id_facultad=f.id_facultad
        where fp.id_facultad != 9 and fp.id_estado='A' and f.codigo = 'PREGRADO'
    </select>
</mapper>
